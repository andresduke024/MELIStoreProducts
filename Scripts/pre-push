#!/bin/bash

echo "ğŸš€ Ejecutando hook de pre-push..."

echo "ğŸ” Ejecutando pre-commit sobre todos los archivos..."
if ! pre-commit run --all-files; then
  echo "âŒ pre-commit ha fallado. Corrige los errores antes de hacer push."
  exit 1
fi

echo "ğŸ§ª Ejecutando tests con 'swift test'..."
if ! swift test; then
  echo "âŒ Los tests han fallado. Revisa antes de hacer push."
  exit 1
fi

echo "âœ… Todo listo. Â¡Push aprobado!"
exit 0